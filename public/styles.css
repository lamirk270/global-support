@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
:root{
  --text:#eaf1ff;
  --muted:#9fb1d6;
  --border:rgba(255,255,255,.14);
  --ring:rgba(120,180,255,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--text);font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#070b14;overflow:auto}
.bg{position:fixed;inset:0;z-index:-1;background:#070b14}

.wrap{position:relative;min-height:100vh;display:grid;grid-template-rows:auto 1fr;padding:20px;gap:16px}
.top{
  display:flex;justify-content:space-between;align-items:center;
  border:1px solid var(--border);border-radius:18px;padding:12px 14px;
  background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.03));
  backdrop-filter:blur(16px) saturate(160%);-webkit-backdrop-filter:blur(16px) saturate(160%);
  box-shadow:0 40px 160px rgba(0,0,0,.45);
}
.brand{display:flex;align-items:center;gap:10px}
.logo{width:28px;height:28px;border-radius:9px;object-fit:cover}
.actions{display:flex;gap:8px}
.ic{
  height:38px;width:38px;display:grid;place-items:center;border-radius:12px;
  border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.16),rgba(255,255,255,.04));
  color:var(--text);cursor:pointer;transition:transform .12s ease,border-color .2s ease,box-shadow .2s ease, filter .2s ease;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.03),0 10px 28px rgba(0,0,0,.35);
  filter:drop-shadow(0 4px 12px rgba(0,0,0,.35));
}
.ic:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.24)}
.ic:focus-visible{outline:none;box-shadow:0 0 0 4px var(--ring)}
.ic svg{width:18px;height:18px;stroke:currentColor;stroke-width:1.75;fill:none;stroke-linecap:round;stroke-linejoin:round}

.card{
  margin-inline:auto;width:min(1040px,100%);
  border:1px solid var(--border);border-radius:22px;overflow:hidden;
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.03));
  backdrop-filter:blur(14px) saturate(150%);-webkit-backdrop-filter:blur(14px) saturate(150%);
  box-shadow:0 50px 160px rgba(0,0,0,.55);
  display:grid;grid-template-rows:1fr auto;min-height:84vh;max-height:calc(100vh - 140px);
}
.msgs{padding:16px;overflow:auto;display:flex;flex-direction:column;gap:10px;min-height:0;}
.msg{max-width:76%;padding:10px 12px;border-radius:16px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));display:flex;gap:10px;align-items:flex-start;box-shadow:0 6px 22px rgba(0,0,0,.28)}
.me{margin-left:auto;background:linear-gradient(180deg,rgba(130,170,255,.20),rgba(130,170,255,.10));border-color:rgba(130,170,255,.28)}
.avatar{width:28px;height:28px;border-radius:50%;object-fit:cover}
.msg img{max-width:100%;border-radius:12px;display:block}.caption{font-size:12px;color:var(--muted);margin-top:4px}

.composer{display:flex;gap:10px;padding:14px;border-top:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02))}
.input{flex:1;background:rgba(255,255,255,.08);border:1px solid var(--border);border-radius:14px;padding:12px 14px;color:var(--text);outline:none}
.input:focus{box-shadow:0 0 0 4px var(--ring);border-color:rgba(130,170,255,.35)}
.btn{height:40px;width:40px;display:grid;place-items:center;border-radius:12px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.16),rgba(255,255,255,.03));cursor:pointer;transition:transform .12s ease,border-color .2s ease,box-shadow .2s ease}
.btn:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.24)}
.btn svg{width:18px;height:18px;stroke:currentColor;stroke-width:1.75;fill:none;stroke-linecap:round;stroke-linejoin:round}

.toast{position:fixed;bottom:22px;left:50%;transform:translateX(-50%);display:none;align-items:center;gap:10px;padding:12px 14px;border-radius:14px;background:rgba(16,24,44,.80);border:1px solid rgba(255,255,255,.18);backdrop-filter:blur(12px) saturate(140%);-webkit-backdrop-filter:blur(12px) saturate(140%);box-shadow:0 12px 36px rgba(0,0,0,.45);font-size:13px;white-space:nowrap}
.toast svg{width:20px;height:20px}
.toast.show{display:flex;animation:fadeout .3s ease 2.4s forwards}
@keyframes fadeout{to{opacity:0;transform:translateX(-50%) translateY(4px)}}
@keyframes shake{0%,100%{transform:translateX(-50%)}20%{transform:translateX(calc(-50% - 4px))}40%{transform:translateX(calc(-50% + 4px))}60%{transform:translateX(calc(-50% - 3px))}80%{transform:translateX(calc(-50% + 3px))}}

.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.45);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);z-index:40}
.panel{width:min(420px,92vw);border-radius:22px;padding:18px;background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.03));border:1px solid var(--border);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);box-shadow:0 30px 120px rgba(0,0,0,.55)}
.row{display:flex;gap:8px}
.panel input{flex:1;background:rgba(255,255,255,.08);border:1px solid var(--border);border-radius:14px;padding:12px 12px;color:var(--text);outline:none}
.panel button{padding:0 14px;border-radius:14px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.16),rgba(255,255,255,.03));color:var(--text);cursor:pointer}

@media (max-width: 720px){
  .wrap{padding:12px;gap:10px}
  .top{border-radius:14px;padding:10px}
  .card{min-height:calc(100vh - 120px)}
  .composer{position:sticky;bottom:0;background:linear-gradient(180deg,rgba(14,20,36,.9),rgba(14,20,36,.8));backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}
}

/* === Premium UID modal === */
.panel-uid{padding:24px 22px;display:flex;flex-direction:column;gap:14px;border-radius:22px;
  background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.03));border:1px solid var(--border);
  box-shadow:0 30px 120px rgba(0,0,0,.55);backdrop-filter:blur(18px) saturate(170%);-webkit-backdrop-filter:blur(18px) saturate(170%);
}
.uid-title{display:flex;align-items:center;gap:8px;color:var(--text);opacity:.9}
.uid-title svg{width:18px;height:18px}
.uid-row{gap:10px}
#uidInput{height:48px;border-radius:999px;padding:0 18px;background:rgba(255,255,255,.10);border:1px solid var(--border);color:var(--text);font-size:16px}
#uidInput:focus{box-shadow:0 0 0 4px var(--ring);border-color:rgba(130,170,255,.35);outline:none}
.uid-btn{height:48px;width:56px;border-radius:999px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.18),rgba(255,255,255,.06));display:grid;place-items:center;cursor:pointer}
.uid-btn svg{width:18px;height:18px;stroke:currentColor;stroke-width:1.75;fill:none;stroke-linecap:round;stroke-linejoin:round}
.uid-btn:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.24)}


/* Inline resume pill */
.resume-pill{
  align-self:center;margin:8px 0;padding:8px 12px;border-radius:999px;
  border:1px solid var(--border);
  background:linear-gradient(180deg,rgba(255,255,255,.16),rgba(255,255,255,.04));
  display:inline-flex;align-items:center;gap:8px;cursor:pointer;
  box-shadow:0 8px 28px rgba(0,0,0,.35);
  transition:transform .12s ease,border-color .2s ease,box-shadow .2s ease;
  color:var(--text);opacity:.92
}
.resume-pill:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.24)}
.resume-pill svg{width:16px;height:16px;stroke:currentColor;stroke-width:1.75;fill:none;stroke-linecap:round;stroke-linejoin:round}
.resume-pill span{font-size:12px;opacity:.9}


/* === v8.4 Tech+ visuals === */
.bg::after{content:'';position:fixed;inset:0;pointer-events:none;background:repeating-linear-gradient(0deg,rgba(255,255,255,.02) 0, rgba(255,255,255,.02) 1px, transparent 2px);mix-blend-mode:overlay;opacity:.2}
@keyframes neonBorder { 0% { box-shadow:0 0 0 rgba(110,169,255,.0);} 100% { box-shadow:0 0 24px rgba(110,169,255,.36);} }
.card, .composer, .top{position:relative;overflow:hidden}
.card::before, .composer::before, .top::before{content:'';position:absolute;inset:0;border-radius:inherit;pointer-events:none;border:1px solid rgba(255,255,255,.14);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.015));animation:neonBorder 2s ease-in-out infinite alternate}
.msg:hover{filter:brightness(1.05)}
.me:hover{filter:brightness(1.08)}
.send:active{transform:scale(.96)}

.typing{display:flex;align-items:center;gap:10px;max-width:76%;padding:10px 12px;border-radius:16px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));box-shadow:0 6px 22px rgba(0,0,0,.28)}
.typing .avatar{width:24px;height:24px;border-radius:50%}
.dots{display:inline-flex;gap:5px}
.dots i{width:6px;height:6px;border-radius:50%;background:#cfe0ff;opacity:.7;animation:bd 1.2s infinite ease-in-out}
.dots i:nth-child(2){animation-delay:.15s}.dots i:nth-child(3){animation-delay:.3s}
@keyframes bd{0%,80%,100%{transform:translateY(0);opacity:.6}40%{transform:translateY(-3px);opacity:1}}



/* v8.6: UID invalid feedback */
.toast{ z-index:2000; }
#uidInput.invalid{ border-color:#ff5a6b !important; box-shadow:0 0 0 4px rgba(255,90,107,.25) !important; }
@keyframes shakeX{0%,100%{transform:translateX(0)}20%{transform:translateX(-6px)}40%{transform:translateX(6px)}60%{transform:translateX(-4px)}80%{transform:translateX(4px)}}
#uidInput.shake{ animation: shakeX .4s ease; }


/* v8.9h: ensure modal & button are clickable and toast visible */
.modal{ z-index: 3500 !important; pointer-events:auto !important; }
#uidOk{ pointer-events:auto !important; }
.toast{ z-index: 4000 !important; }
